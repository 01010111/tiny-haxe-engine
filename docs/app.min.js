!function(n){"use strict";function c(){}c.init=function(){window.document.onkeydown=function(n){c.k.h[n.keyCode]=!0},window.document.onkeyup=function(n){c.k.h[n.keyCode]=!1},u.ctx.canvas.onpointerdown=function(n){c.k.h[-1-n.button]=!0},u.ctx.canvas.onpointerup=function(n){c.k.h[-1-n.button]=!1},u.ctx.canvas.ontouchstart=function(n){c.k.h[-1]=!0},u.ctx.canvas.ontouchend=function(n){c.k.h[-1]=!1},u.ctx.canvas.onpointermove=function(n){return c.M={x:Math.floor(n.offsetX/u.zx),y:Math.floor(n.offsetY/u.zy)}},u.ctx.canvas.ontouchmove=function(n){return c.M={x:Math.floor(n.touches[0].clientX/u.zx),y:Math.floor(n.touches[0].clientY/u.zy)}}},c.p=function(n){return!!c.k.h.hasOwnProperty(n)&&c.k.h[n]},c.jp=function(n){if(!c.k.h.hasOwnProperty(n))return!1;if(!c.l.h.hasOwnProperty(n))return c.l.h[n]=c.k.h[n],c.k.h[n];var t=c.l.h[n]!=c.k.h[n]&&c.k.h[n];return c.l.h[n]=c.k.h[n],t};var u=n.Game=function(){};u.init=function(n,t,o){window.document.oncontextmenu=function(n){return n.preventDefault()};var e=window.document.createElement("canvas"),i=window.document.getElementById(n);i.appendChild(e),u.w=e.width=t,u.h=e.height=o,u.ctx=e.getContext("2d",null),c.init(),window.onresize=function(n){return u.zx=i.offsetWidth/t,u.zy=i.offsetHeight/o},window.onresize(),window.requestAnimationFrame(u.loop)},u.loop=function(n){u.s.update(),u.s.draw(),window.requestAnimationFrame(u.loop)};var r=function(){};r.load=function(n,t,o,e){var i=window.document.createElement("div");i.style.display="none",window.document.body.appendChild(i),r.s=window.document.createElement("img"),r.s.src=n,i.appendChild(r.s),r.fw=t,r.fh=o,r.col=e};function t(){this.h={}}c.M={x:0,y:0},c.k=new t,c.l=new t}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this);